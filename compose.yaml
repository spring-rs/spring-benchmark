version: "3"

services:
  mysql:
    image: mysql:8.0.31
    environment:
      - MYSQL_ROOT_PASSWORD=xudjf23adj213
    ports:
      - 3306:3306

  java-demo:
    image: holmofy/java-spring-boot-demo:0.0.1
    build:
      context: ./java-spring-boot
    ports:
      - 80:8080
    deploy:
      resources:
        limits:
          cpus: "4.0"
          memory: 1024M

  rust-demo:
    image: holmofy/rust-spring-rs-demo:0.0.1
    build:
      context: ./spring-rs
    ports:
      - 88:8080
    deploy:
      resources:
        limits:
          cpus: "4.0"
          memory: 80M